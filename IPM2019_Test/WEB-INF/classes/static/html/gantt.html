<html>
<head>

<script src="../JScript/anychart-base.min.js" type="text/javascript"></script>
    <script src="../JScript/anychart-gantt.min.js" type="text/javascript"></script>
</head>
<div id="container"></div>

<style>
html, body, #container {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
}

</style>

<script>

	 var csvString;
     anychart.onDocumentReady(function () {
var file = "../html/Reports/data.csv";

  readTextFile(file);
	console.log(csvString);
  var mapping = {
    id: 0,
    name: 1,
    actualStart: 2,
    actualEnd: 3,
    progressValue: 4
  };

  var csvSettings = {
    rowsSeparator: '\n',
    columnsSeparator: ',',
    ignoreFirstRow: true
  };


  treeData = anychart.data.tree(csvString, mapping, csvSettings);

  // chart type
  var chart = anychart.ganttProject();

  // chart container
  chart.container('container');

  // set chart data
  chart.data(treeData);

  // initiate drawing
  chart.draw();

  // show all items
  chart.fitAll();

});

function readTextFile(file)
{
    var rawFile = new XMLHttpRequest();
    rawFile.open("GET", file, false);
    rawFile.onreadystatechange = function ()
    {
        if(rawFile.readyState === 4)
        {
            if(rawFile.status === 200 || rawFile.status == 0)
            {
                csvString = rawFile.responseText;
                
            }
        }
    }
    rawFile.send(null);
}
</script>

</html>