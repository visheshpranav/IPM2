<!DOCTYPE html>
<html>
<script language="JavaScript" type="text/javascript" src="../JScript/json2.js"></script>
<script language="JavaScript" type="text/javascript" src="../JScript/jquery-1.8.3.js"></script>
<link href="../styles/bootstrap.min.css" rel="stylesheet">

<style>

@font-face {
		font-family: 'AccentureRotis';
		src: url('../styles/rotsan.woff') format('woff'); /* Modern Browsers */
	}
	
body {
font-family: AccentureRotis;
}
	

label {
  padding: 12px 12px 12px 0;
  display: inline-block;
  font-family: AccentureRotis;
}

html, body { font-family: 'AccentureRotis'; }

table { border-collapse: collapse; }

tbody tr:first-child { pointer-events: none; font-weight:bold} 
table tr td {
  border: 1px solid #000;
  padding: 10px;
}

table tr:nth-child(odd) { background: #f4f4f4; }

tr:hover {
background-color:#ffff99!important;
cursor:pointer;
}

td{
word-break: break-all;
font-size:14px;
}

table{
table-layout:fixed;
width:75%;
float:right;
}
	@font-face {
		font-family: 'AccentureRotis';
		src: url('../styles/rotsan.woff') format('woff'); /* Modern Browsers */
	}
	
body {
font-family: AccentureRotis;
}
	
.fieldset-checkbox {
    border-radius: 25px;
    height: auto;
    width: 900px;
    border: solid;
	margin-left:16%;
}
fieldset {
    display: block;
	margin-inline-start: 2px;
    margin-inline-end: 2px;
    padding-block-start: 0.35em;
    padding-inline-start: 0.75em;
    padding-inline-end: 0.75em;
    padding-block-end: 0.625em;
    min-inline-size: min-content;
    border-width: 2px;
    border-style: groove;
    border-color: threedface;
    border-image: initial;
}
label {
 
  font-family: AccentureRotis;
  font-size:12px;
  font-weight:bold;
}

html, body { font-family: 'AccentureRotis'; }


</style>
<body onload="fetchReports4(),fetchReports6()">
<div id="Div_NewQual" class="NewQual" style="background-image: url('../images/upload.png'), linear-gradient(#ffffff,#d9d9d9); background-position: center right; background-size: contain; background-repeat: no-repeat; margin-top: 10%; background-blend-mode: normal;font-family: AccentureRotis,Arial,sans-serif;">
<fieldset id="fs_atr" class="fieldset-checkbox">
<div id="container" style="margin-top:20px;margin-bottom:10px;float:right;" ></div>
<div style="position:fixed;float:left;">
  <label style="margin-left:5%" class="list-heading1" id="CompareTest_lbl1">Select reports to be compared</label></br>
  <div style="width: 100%;float:left">
 <label style="margin-left:5%" for="Pattern">Choose a report1:</label>

<select id="slt_view" style="margin-left:5%"; ></select>
 <br>
 
 
 <label style="margin-left:5%; " for="Pattern">Choose a report2:</label>
<select id="slt_view2" style="margin-left:5%"; ></select>

<button type="submit" value="Upload" id="Btn_upload22" class="btn btn-primary"  onclick="getvaluesd()" style="width: 100px; margin-left: 140px; font-family: AccentureRotis;">Compare</button>



</div>
</div>
</body>
</div>
</fieldset>





<script>

function fetchReports4()
{
	var xhttp = new XMLHttpRequest();
	var fd = new FormData();
		
	fd.append("user_name",localStorage.getItem("ipm_username"));
	xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
			
			var outputVal = this.responseText.trim();
			if(outputVal != "")
			{
				var test_drp = document.getElementById("slt_view");	
				var test_length = test_drp.options.length;
				for (i = 0; i < test_length; i++) {
				  test_drp.options[0] = null;
				}
				var project_name_arr = this.responseText.split("\n");
				for (var prj_i=1; prj_i<project_name_arr.length-1 ; prj_i=prj_i+1)
				{					
					var option = document.createElement("option");
					option.text = project_name_arr[prj_i].split(",")[1];
						test_drp.add(option, test_drp[0]);
				} 
				
				
			
			}
			else{
				alert("Kindly analyze a log file to view this page");
				document.getElementById("Btn_exist_proceed").disabled = true;
			}
		}
     };
     xhttp.open("POST", "../cgi-bin/getLogNameForUser.py",true);
     xhttp.send(fd);
}

function fetchReports6()
{
	var xhttp = new XMLHttpRequest();
	var fd = new FormData();
		
	fd.append("user_name",localStorage.getItem("ipm_username"));
	xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
			
			var outputVal = this.responseText.trim();
			if(outputVal != "")
			{
				var test_drp = document.getElementById("slt_view2");	
				var test_length = test_drp.options.length;
				for (i = 0; i < test_length; i++) {
				  test_drp.options[0] = null;
				}
				var project_name_arr = this.responseText.split("\n");
				for (var prj_i=1; prj_i<project_name_arr.length-1 ; prj_i=prj_i+1)
				{					
					var option = document.createElement("option");
					option.text = project_name_arr[prj_i].split(",")[1];
						test_drp.add(option, test_drp[0]);
				} 
				
				
			
			}
			else{
				alert("Kindly analyze a log file to view this page");
				document.getElementById("Btn_exist_proceed").disabled = true;
			}
		}
     };
     xhttp.open("POST", "../cgi-bin/getLogNameForUser.py",true);
     xhttp.send(fd);
}

function getvaluesd()
{
var t = document.getElementById("slt_view").value.trim();
var r = document.getElementById("slt_view2").value.trim();
if(t==r)
{
alert("Reports cant be same! select two different reports");
return false;
}
else
alert("You can proceed")

}
	
</script>
</html>